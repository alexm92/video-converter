{% extends 'base.html' %}

{% block title %}300. Sparta{% endblock %}

{% block content %}

<div id="carousel-movie" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-movie" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-movie" data-slide-to="1"></li>
        <li data-target="#carousel-movie" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <!--<div class="carousel-inner">
        <div class="item active">
            <img src="http://shareitfitness.files.wordpress.com/2010/12/300_movie_2.jpg" alt="Sparta!!!" />
            <div class="carousel-caption">
                           </div>
        </div>
        <div class="item">
            <img src="http://downloadwallpaperhd.com/wp-content/uploads/2013/04/The-Lone-Ranger-Movie-2013-HD-Wallpaper.jpg" alt="smth" />
        </div>
        <div class="item">
            <img src="http://scene360.com/wp-content/themes/site/uploads/2013/06/top-ten-movies-2013-11.jpg" alt="" />
        </div>
    </div>
-->
    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-movie" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#carousel-movie" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
</div>

<!--<button id="btn_upload" class="btn btn-success btn-lg" data-toggle="modal" data-target="#myModal">
    Upload your video
</button>
-->

<div id="fineuploader-s3"></div>
<input id="btn_upload" qq-button-id="5aadf6c7-4a0e-43dc-8249-41756112ed52" multiple="" type="file" name="qqfile" style="position: absolute; right: 0px; top: 0px; font-family: Arial; font-size: 118px; margin: 0px; padding: 0px; cursor: pointer; opacity: 0;">

<script type="text/template" id="simple-previews-template">
    <div class="qq-uploader-selector qq-uploader">
        <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>
            <span>Drop files here to upload</span>
        </div>
        <div class="qq-upload-button-selector qq-upload-button">
            <div>Upload a file</div>
        </div>
          <span class="qq-drop-processing-selector qq-drop-processing">
              <span>Processing dropped files...</span>
              <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
          </span>
        <ul class="qq-upload-list-selector qq-upload-list">
            <li>
                <div class="qq-progress-bar-container-selector">
                    <div class="qq-progress-bar-selector qq-progress-bar"></div>
                </div>
                <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
                <img class="qq-thumbnail-selector" qq-max-size="100" qq-server-scale>
                <span class="qq-edit-filename-icon-selector qq-edit-filename-icon"></span>
                <span class="qq-upload-file-selector qq-upload-file"></span>
                <input class="qq-edit-filename-selector qq-edit-filename" tabindex="0" type="text">
                <span class="qq-upload-size-selector qq-upload-size"></span>
                <a class="qq-upload-cancel-selector btn-small btn-warning" href="#">Cancel</a>
                <a class="qq-upload-retry-selector btn-small btn-info" href="#">Retry</a>
                <a class="qq-upload-delete-selector btn-small btn-warning" href="#">Delete</a>
                <a class="qq-upload-pause-selector btn-small btn-info" href="#">Pause</a>
                <a class="qq-upload-continue-selector btn-small btn-info" href="#">Continue</a>
                <span class="qq-upload-status-text-selector qq-upload-status-text"></span>
                <a class="view-btn btn-small btn-info hide" target="_blank">View</a>
            </li>
        </ul>
    </div>
</script>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Upload your file</h4>
            </div>
            <div class="modal-body">
                <input type="file" id="file" onchange="s3_upload();"/> <br />

                <div class="progress progress-striped active">
                  <div class="progress-bar upload" style="width: 0%">
                    <span class="sr-only">0% Complete (upload)</span>
                  </div>
                  <div class="progress-bar progress-bar-success convert" style="width: 0%">
                    <span class="sr-only">0% Complete (convert)</span>
                  </div>
                </div> 

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
{% endblock %}

{% block js %}
{{block.super}}
<script type="text/javascript" src="/static/js/lodash.js"></script>
<script type="text/javascript" src="/static/js/s3upload.js"></script>
<script type="text/javascript" src="/static/js/utils.js"></script>
<script type="text/javascript" src="/static/js/fineuploader.js"></script>
<script type="text/javascript">
    setUploadButtonWhenReady();
    function s3_upload(){}
</script>
<!--<script type="text/javascript">

    function s3_upload(){
        var s3upload = new S3Upload({
            file_dom_selector: 'file',
            s3_sign_put_url: '/upload/',

            onProgress: function(percent, message) {
                $('.upload').css('width', (percent * 1.0 / 2) + '%');
                $('.upload .sr-only').html(percent + '% Complete (upload)');
            },
            onFinishS3Put: function(url) {
                console.log('Upload completed. Uploaded to: '+ url);

                $.ajax({
                    url: '/api/convert/',
                    data: {path: url, width: 100, height: 100, gray: false},
                    beforeSend: function () { console.log('start converting'); },
                    success: function () { console.log('convert. success'); },
                    error: function () { console.log('convert. error'); },
                });

            },
            onError: function(status) {
                console.log('Upload error: ' + status);
            }
        });
    }

</script>
-->
{% endblock %}
